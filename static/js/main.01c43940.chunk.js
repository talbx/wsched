(this.webpackJsonpwsched=this.webpackJsonpwsched||[]).push([[0],{164:function(e,t,n){e.exports=n(315)},169:function(e,t,n){},170:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),c=n(36),i=n.n(c),u=(n(169),n(19)),o=(n(170),n(171),n(172),n(99)),s=n(15),m=n(329),h=n(322),d=n(326),E=n(324),f=n(323),g=n(316),b=n(325),p=n(153),v=n(151),y=n(54);!function(e){e.REGULAR="REGULAR",e.ORDER="ORDER",e.EXCEPTION="EXCEPTION"}(a||(a={}));var O,k=n(105),w=function e(t,n,a){Object(y.a)(this,e),this.name=void 0,this.uuid=void 0,this.veggie=void 0,this.type=void 0,this.name=t,this.veggie=n,this.type=a,this.uuid=k(t+n+a),console.log("created dish "+this.name+" with uuid "+this.uuid)};!function(e){e.FEMALE="FEMALE",e.MALE="MALE"}(O||(O={}));var C,R=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,a,r,l){var c;return Object(y.a)(this,n),(c=t.call(this,e,a,r)).sex=void 0,c.sex=l,c}return n}(w),j=function(e,t,n){return new w(e,t,n)},S=function(e,t){return j(e,t,a.REGULAR)},G=function(e,t){return j(e,t,a.ORDER)},K=function(e,t,n){return new R(e,t,a.EXCEPTION,n)},x=[S("Auflauf",!0),S("Bolo",!1),S("Brot mit Aufschnitt",!0),S("Carbonara",!1),S("Chili con carne",!1),S("Flammkuchen",!1),S("Gem\xfcsepfanne",!0),S("Gulasch",!1),S("Grillen",!1),S("H\xfchnerfrikassee",!1),S("Pizza",!0),S("Normales Reiscurry",!0),S("Nudeln mit Sahne sauce",!0),S("Pfannkuchen",!0),S("Risotto",!0),S("S\xfc\xdfes Ananas Reis Curry",!0),S("Salat",!0),S("Tomatencreme Suppe",!0),S("Buntes Gem\xfcse-Tortilla (Glutenfreies Kochbuch)",!0),S("Exotische M\xf6rensuppe (Glutenfreies Kochbuch)",!0),S("Fischfilet mit Kr\xe4uterkruste (Glutenfreies Kochbuch)",!1),S("Gefl\xfcgel-Reis Salat (Glutenfreies Kochbuch)",!1),S("Gulasch Petti di Pollo (Glutenfreies Kochbuch)",!1),S("Kalbsroulade (Glutenfreies Kochbuch)",!1),S("Kokos-Curry (Glutenfreies Kochbuch)",!0),S("Rote Linsen mit Schafsk\xe4se (Glutenfreies Kochbuch)",!0),S("Reispfanne mit Lachs (Glutenfreies Kochbuch)",!1),S("Rinderlende mit Paprika-Mix (Glutenfreies Kochbuch)",!1)],B=[G("Kirat",!0),G("Irodion",!1),G("BurgerMe",!1),G("Rohh\xe4ppchen",!1),G("ReadyPizza",!0)],D=[(C="Steak mit Reis",K(C,!1,O.MALE)),function(e){return K(e,!0,O.FEMALE)}("Tomate - Mozzarella Salat")],A=[].concat(x,B),_=n(139),L=n.n(_),M=n(22),N=n.n(M),z=n(105);var P=function(e){var t="";return e.split("").map((function(e){return function(e){return e.replace(/([a-zA-Z])[^a-zA-Z]*$/,T)}(e)})).forEach((function(e){return t+=e})),t};function T(e){var t=e.charCodeAt(0);switch(t){case 90:return"A";case 122:return"a";default:return String.fromCharCode(++t)}}var W="9d3b4b2da394293d3za9d1c1d1d2b3dd";var F=n(152),I=n(140),H=function(){function e(){Object(y.a)(this,e),this.withOrder_=!1,this.veggieOnly_=!1,this.exceptionDishes_=!1,this.withBbq_=!1}return Object(I.a)(e,[{key:"withOrder",value:function(e){return this.withOrder_=e,this}},{key:"veggieOnly",value:function(e){return this.veggieOnly_=e,this}},{key:"withBBQ",value:function(e){return this.withBbq_=e,this}},{key:"withExceptionDishes",value:function(e){return this.exceptionDishes_=e,this}},{key:"supply",value:function(){var e=this,t=[];this.withBbq_&&!this.veggieOnly_&&t.push(x.find((function(e){return"Grillen"===e.name}))),this.withOrder_&&B.forEach((function(n){(e.veggieOnly_&&n.veggie||!e.veggieOnly_)&&t.push(n)})),x.forEach((function(n){(e.veggieOnly_&&n.veggie||!e.veggieOnly_)&&t.push(n)})),this.exceptionDishes_&&t.push.apply(t,Object(F.a)(D));var n=t.sort((function(){return.5-Math.random()})).slice(0,7);return{dishes:n,uuid:q(n)}}}]),e}(),q=function(e){var t="";return e.forEach((function(e){return t+=e.uuid.substring(0,4)})),t},J=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1];function i(t){var n=function(e){var t=e.match(new RegExp(".{1,4}","g"));return{dishes:A.filter((function(e){return null===t||void 0===t?void 0:t.includes(e.uuid.substring(0,4))})).sort((function(){return.5-Math.random()})),uuid:e}}(e.scheduleKey);console.log(n),console.log(e.scheduleKey),console.log("DISHES LENGTH restored: ",n.dishes.length),n.dishes&&(e.dishesCallback(n.dishes),e.restoreFlag(!0)),t&&t.preventDefault()}return l.a.createElement(m.a.Column,null,l.a.createElement(d.a.Header,{as:"h2"},"Wochenplan wiederherstellen"),l.a.createElement("form",{onSubmit:function(e){return i(e)}},l.a.createElement(h.a,null,l.a.createElement(m.a,{container:!0,columns:2},l.a.createElement(m.a,{style:{marginTop:"2%"},container:!0,columns:2,stackable:!0},l.a.createElement(m.a.Row,null),l.a.createElement(m.a.Row,null),l.a.createElement(m.a.Row,null),l.a.createElement(m.a.Row,null),l.a.createElement(m.a.Column,null,l.a.createElement(f.a,{onChange:function(t,n){return a=n.value,e.keyFn(a),void c(28===a.length);var a},icon:"key",placeholder:"Enter wsched key"})),l.a.createElement(m.a.Column,null,l.a.createElement(g.a,{type:"submit",disabled:!a,onClick:function(){return i(null)},basic:!0,color:"teal"},"Wiederherstellen")))))))},U=n(330),X=n(327),Q=n(56),V=function(e){var t=e.dish,n=e.weekDay,r=e.recreateWeekKeyCallback,c=e.recreateCommand,i=l.a.useState(t),o=Object(u.a)(i,2),s=o[0],m=o[1];return l.a.createElement("div",{style:{marginBottom:"2%"}},l.a.createElement(d.a,null,l.a.createElement(d.a.Content,{header:n.format("dddd")+" "+n.format("LL")}),l.a.createElement(d.a.Content,{content:s.name}),l.a.createElement(d.a.Content,{extra:!0},s.veggie&&l.a.createElement(Q.a,{basic:!0,className:"mini",color:"green"},"Veggie"),s.type===a.ORDER&&l.a.createElement(Q.a,{basic:!0,className:"mini",color:"black"},"Bestellung")&&l.a.createElement(Q.a,{basic:!0,className:"mini",color:"blue"},s.type),s instanceof R&&l.a.createElement(Q.a,{basic:!0,className:"mini",color:"red"},"Exception Dish")&&l.a.createElement(Q.a,{basic:!0,className:"mini",color:"blue"},s.sex),l.a.createElement("i",{onClick:function(){return function(e){var t=c(s);m(t),r(e,t)}(t)},"aria-hidden":"true",className:"refresh icon"}))))},Z=function(){return l.a.createElement("div",{style:{marginBottom:"2%"}},l.a.createElement(d.a,null,l.a.createElement(d.a.Content,{header:"Dish could not be recreated"})))},$=function(e){var t=e.dishes,n=e.callback,a=function(e){var n=function(e,t){var n=e.type,a=e.veggie;return A.filter((function(r){return r!==e&&r.veggie===a&&r.type===n&&!t.includes(r)})).sort((function(){return.5-Math.random()})).slice(0,1)[0]}(e,t);return t.filter((function(t){return t!==e})).push(n),n},r=[N()().startOf("week").add(1,"days"),N()().startOf("week").add(2,"days"),N()().startOf("week").add(3,"days"),N()().startOf("week").add(4,"days"),N()().startOf("week").add(5,"days"),N()().startOf("week").add(6,"days"),N()().startOf("week").add(7,"days")];return l.a.createElement("div",{id:"wsched"},l.a.createElement(h.a,null,7!==t.length&&l.a.createElement("div",{style:{marginBottom:"5%"}},l.a.createElement(X.a,{icon:"warning",header:"Warning",content:"Not all dishes could be parsed"})),l.a.createElement(m.a,null,0!==t.length&&r.map((function(e){return function(e,t,r){var c=r[t.indexOf(e)];return c?l.a.createElement(V,{recreateWeekKeyCallback:n,recreateCommand:a,key:c.uuid,dish:c,weekDay:e}):l.a.createElement(Z,null)}(e,r,t)})))))},Y=function(e){return l.a.createElement(d.a,{fluid:!0,color:"teal",style:{padding:"1em 0em"}},l.a.createElement(h.a,null,e.restored&&l.a.createElement(U.a,{as:"h2"},"Wiederhergestellter Speiseplan"),!e.restored&&l.a.createElement(U.a,{as:"h2"},"Speiseplan f\xfcr KW",N()().week()),l.a.createElement(U.a,{style:{marginBottom:"5%"},as:"h5"},"Key: ",e.scheduleKey),l.a.createElement($,{callback:e.callback,dishes:e.dishes}),l.a.createElement(g.a,{style:{marginTop:"2%"},fluid:!0,color:"teal",onClick:function(){L.a.toJpeg(document.getElementById("wsched"),{quality:.95}).then((function(e){var t=document.createElement("a"),n=N()().week();t.download="wsched-"+n+".jpeg",t.href=e,t.click()}))}},"Export to JPEG")))},ee=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],h=Object(r.useState)(!1),p=Object(u.a)(h,2),v=p[0],y=p[1],O=Object(r.useState)([]),k=Object(u.a)(O,2),w=k[0],C=k[1],R=Object(r.useState)(!1),j=Object(u.a)(R,2),S=j[0],G=j[1],K=Object(r.useState)(!1),x=Object(u.a)(K,2),B=x[0],D=x[1],A=Object(r.useState)(""),_=Object(u.a)(A,2),L=_[0],M=_[1],N=Object(r.useState)(!1),T=Object(u.a)(N,2),F=T[0],I=T[1];function U(e){var t=(new H).withBBQ(n).withExceptionDishes(S).veggieOnly(v).withOrder(o).supply();C([]),C(t.dishes),M(t.uuid),e&&e.preventDefault()}return l.a.createElement("div",null,l.a.createElement(d.a,{fluid:!0,color:"teal",style:{padding:"1em 0em"}},l.a.createElement(d.a.Content,null,l.a.createElement(m.a,{columns:2},l.a.createElement(m.a.Column,null,l.a.createElement(d.a.Header,{as:"h2"},"Wochenplan generieren"),l.a.createElement("form",{onSubmit:function(e){return U(e)}},l.a.createElement(m.a,{container:!0,columns:2},l.a.createElement(m.a,{style:{marginTop:"2%"},container:!0,columns:2,stackable:!0},l.a.createElement(m.a.Column,null,l.a.createElement(E.a,{style:{padding:"0em 1em"},toggle:!0,onChange:function(){return s(!o)},label:"Lust essen zu bestellen? "})),l.a.createElement(m.a.Column,null,l.a.createElement(E.a,{style:{padding:"0em 1em"},toggle:!0,onChange:function(){return y(!v)},label:"Vegetarische Woche? "})),l.a.createElement(m.a.Column,null,l.a.createElement(E.a,{style:{padding:"0em 1em"},toggle:!0,disabled:!0,readOnly:!0,onChange:function(){return G(!S)},label:"Exception Dishes? "})),l.a.createElement(m.a.Column,null,l.a.createElement(E.a,{style:{padding:"0em 1em"},toggle:!0,onChange:function(){return a(!n)},label:"Grillwetter? "})),l.a.createElement(m.a.Column,null,l.a.createElement(f.a,{onChange:function(e,t){return D(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;return n(t(e),a(W))}(t.value))},style:{padding:"0em 1em"},size:"mini",label:"Passphrase",type:"password"})),l.a.createElement(m.a.Column,null,l.a.createElement(g.a,{type:"submit",disabled:!B,onClick:function(){return U(null)},basic:!0,color:"teal"},"Generieren")))))),l.a.createElement(J,{scheduleKey:L,keyFn:M,dishesCallback:C,restoreFlag:I})),l.a.createElement(b.a,{vertical:!0},"ODER"))),0!==w.length&&l.a.createElement(Y,{callback:function(e,t){return function(e,t){var n=w.map((function(n){return n===e?t:n}));M(q(n))}(e,t)},dishes:w,scheduleKey:L,restored:F}))},te=function(){return l.a.createElement(m.a,{container:!0,style:{padding:"3em 0em"}},l.a.createElement(h.a,null,l.a.createElement(ee,null)))},ne=function(){return l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(h.a,null,l.a.createElement("h1",null,"coming soon")))},ae=n(328),re=function(){var e=Object(r.useState)("home"),t=Object(u.a)(e,2),n=t[0],a=t[1];return l.a.createElement(o.a,null,l.a.createElement(ae.a,{pointing:!0,secondary:!0,color:"teal"},l.a.createElement(ae.a.Item,{name:"Home",active:"home"===n},l.a.createElement(o.b,{style:{color:"black"},to:"/wsched",onClick:function(){return a("home")}},"Wochenplan")),!1),l.a.createElement("a",{href:"https://github.com/talbx/wsched"},l.a.createElement("div",{className:"ribbon"},l.a.createElement("span",null,"BETA"))),l.a.createElement("div",null,l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/roadmap"},l.a.createElement(ne,null)),l.a.createElement(s.a,{path:"/wsched"},l.a.createElement(te,null)),l.a.createElement(s.a,{path:"/"},l.a.createElement(te,null)))))};i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(re,null)),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.01c43940.chunk.js.map